/* ===============================
   üé® LUNE vs SOLEIL ‚Äì STYLE GLOBAL
   =============================== */
:root{
  --bg:#0b1020;
  --felt:#0f1b2d;
  --text:#e6edf6;
  --accent-blue:#60a5fa;
  --accent-gold:#facc15;
  --accent-red:#f87171;
  --gap:10px;
  --rad:12px;
  --card-w:clamp(72px,8.5vw,110px);
}

*{box-sizing:border-box;}
body{
  margin:0;
  font-family: "Segoe UI", Roboto, system-ui;
  color:var(--text);
  background: radial-gradient(1200px 600px at 50% -10%, #13213a 0%, #0b1020 60%) fixed, var(--bg);
  display:flex; align-items:center; justify-content:center;
  min-height:100vh;
  overflow-x:hidden;
}

/* ===============================
   üè† MENU PRINCIPAL
   =============================== */
#menu-screen{
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  text-align:center;
  gap:14px;
  padding:20px;
}
#menu-screen h1{
  font-size:2.4rem;
  background:linear-gradient(90deg,var(--accent-blue),var(--accent-gold));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:0 0 10px rgba(250,250,250,.15);
}
.subtitle{font-size:1rem; opacity:.85; margin-bottom:14px;}
.menu-buttons button{
  background:#1e293b; border:none; color:var(--text);
  padding:10px 20px; margin:6px;
  border-radius:10px; font-weight:600; font-size:1rem;
  cursor:pointer; transition:all .25s ease;
}
.menu-buttons button:hover{
  background:#334155; transform:translateY(-2px);
}
.hidden{display:none;}

/* ===============================
   ‚öôÔ∏è  SELECTION DECKS / GALERIE / R√àGLES
   =============================== */
#deck-select, #gallery, #rules, #credits{
  text-align:center;
  padding:30px;
  max-width:900px;
  margin:auto;
  background:rgba(15,27,45,.8);
  border:1px solid #1f2c46;
  border-radius:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.4);
}
#deck-select h2, #gallery h2, #rules h2, #credits h2{
  color:var(--accent-gold);
  margin-bottom:16px;
}
.player-choice{
  background:rgba(11,19,36,.6);
  border:1px solid #1d2b4a;
  border-radius:10px;
  padding:10px;
  margin:8px;
}
#deck-select button, .back{
  background:#1e293b; color:#e2e8f0;
  border:none; border-radius:8px; padding:8px 16px;
  margin-top:10px; font-weight:600;
  cursor:pointer; transition:background .2s;
}
#deck-select button:hover, .back:hover{background:#334155;}
#deck-select .deck-choice{display:flex; flex-wrap:wrap; justify-content:center; gap:20px;}

/* ===============================
   üìö  GALERIE DES CARTES
   =============================== */
#card-gallery{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:16px;
  margin-top:20px;
}
.gallery-card{
  background:#0f1b2d;
  border:1px solid #1d2b4a;
  border-radius:12px;
  padding:10px;
  box-shadow:0 6px 20px rgba(0,0,0,.3);
}
.gallery-card h4{
  margin:4px 0;
  color:var(--accent-gold);
}
.gallery-sides{
  display:flex;
  justify-content:space-around;
  font-size:.85rem;
}
.gallery-side{
  width:48%;
  background:rgba(255,255,255,.03);
  border:1px solid #1d2b4a;
  border-radius:10px;
  padding:6px;
}
.gallery-side h5{margin:4px 0; font-size:.9rem; color:var(--accent-blue);}
.gallery-side ul{list-style:none; padding:0; margin:0; text-align:left;}
.gallery-side li{margin:2px 0;}

/* ===============================
   üßæ  R√àGLES
   =============================== */
#rules ul{list-style:disc; text-align:left; margin-left:40px;}
#rules li{margin-bottom:6px;}
#rules h3{color:var(--accent-blue);}

/* ===============================
   üí†  CR√âDITS
   =============================== */
#credits p{margin:4px 0;}
#credits strong{color:var(--accent-gold);}

/* ===============================
   ü™ê  PLATEAU DE JEU
   =============================== */
.table{
  width:min(1400px,98vw);
  background:linear-gradient(180deg,#0f1b2d 0%,#0b1426 100%);
  border:1px solid #1a2740;
  border-radius:20px;
  padding:clamp(12px,2vw,24px);
  box-shadow:0 10px 30px rgba(0,0,0,.4);
  display:grid; gap:var(--gap);
  grid-template-rows:auto auto 1fr auto auto;
}
header{
  display:flex; justify-content:space-between; align-items:center;
  flex-wrap:wrap; gap:8px;
}
.tag{padding:6px 12px; border-radius:999px; font-weight:600; background:#101a2e; border:1px solid #1f2c46;}
.tag.att{border-color:#3a1717; background:#1a0f12; color:#fecaca;}
.tag.def{border-color:#152b4a; background:#0f1626; color:#bfdbfe;}
.hint{font-size:.9rem; opacity:.85; text-align:center; flex:1;}

.battlefield{
  border:1px solid #1a2740; border-radius:16px; padding:12px;
  background: linear-gradient(90deg,
    rgba(248,113,113,.06) 0%, rgba(248,113,113,.06) 30%,
    transparent 30%, transparent 50%,
    rgba(96,165,250,.06) 50%, rgba(96,165,250,.06) 100%
  );
}
.lanes{
  display:grid; gap:var(--gap); justify-content:center;
  grid-template-columns:repeat(10,var(--card-w));
  grid-template-rows:repeat(5,calc(var(--card-w)*1.4));
}
.slot{
  border:1px dashed #2c3d60; border-radius:var(--rad);
  display:grid; place-items:center; position:relative; background:#0d172b;
  transition:border-color .15s,transform .1s,box-shadow .15s;
}

/* Zones visuelles */
.slot[data-owner="p1"]::before,
.slot[data-owner="neutral"]::before,
.slot[data-owner="p2"]::before{
  content:""; position:absolute; inset:0; border-radius:inherit; opacity:.07; pointer-events:none;
}
.slot[data-owner="p1"]::before{background:var(--accent-red);}
.slot[data-owner="neutral"]::before{background:#94a3b8;}
.slot[data-owner="p2"]::before{background:var(--accent-blue);}

/* ===============================
   üé¥  CARTES
   =============================== */
.card{
  width:92%; aspect-ratio:63/88;
  border-radius:calc(var(--rad)-2px);
  background:url("carteJCC.png") center/cover no-repeat;
  border:2px solid transparent;
  display:grid; place-items:center;
  position:relative; font-weight:700; text-transform:uppercase;
  text-align:center; box-shadow:0 6px 16px rgba(0,0,0,.45);
  user-select:none; cursor:grab; overflow:hidden;
  transition:transform .2s, box-shadow .2s;
}
.card.att{filter:hue-rotate(-15deg) brightness(1.1);}
.card.def{filter:hue-rotate(210deg) brightness(1.1);}
.card:hover{transform:scale(1.06); box-shadow:0 15px 25px rgba(0,0,0,.6); z-index:10;}
.card img{display:none;}
.card .overlay{position:absolute; inset:0; background:linear-gradient(to bottom,rgba(0,0,0,.15),rgba(0,0,0,.45));}

/* Infos carte */
.cost{
  position:absolute; top:6px; left:6px;
  background:rgba(0,0,0,.65); border:2px solid var(--accent-gold);
  border-radius:50%; width:26px; height:26px;
  display:flex; align-items:center; justify-content:center;
  font-size:.8rem; color:#fff; font-weight:700;
}
.atk,.hp{
  position:absolute; bottom:6px; width:26px; height:26px;
  border-radius:50%; border:2px solid #fff;
  display:flex; align-items:center; justify-content:center;
  font-size:.75rem; color:#fff; font-weight:700;
}
.atk{left:6px; background:#ef4444;}
.hp{right:6px; background:#22c55e;}
.info{
  position:absolute; bottom:30px; width:90%; font-size:.7rem;
  line-height:1.2; text-align:center; color:#fff;
  text-shadow:0 1px 2px #000;
}

/* ===============================
   üí´  MAINS & CONTROLES
   =============================== */
.hand-container{position:relative; display:flex; justify-content:center; align-items:flex-end;
  margin:0 auto; perspective:1200px; height:180px; overflow:visible;}
.hand{
  --count:1; position:relative; display:flex; align-items:flex-end; justify-content:center;
  transform-style:preserve-3d; gap:0; padding-bottom:12px;
}
.hand .card{
  --i:0; --spread:28deg; --lift:28px; --w:clamp(92px,10vw,140px);
  width:var(--w); aspect-ratio:63/88; transform-origin:bottom center; margin:0 -22px;
  transition:transform .2s, z-index .2s, box-shadow .2s;
  z-index:calc(100 + var(--i));
  transform:rotateZ(calc(var(--spread)*((var(--i)-(var(--count)-1)/2)/max(var(--count)-1,1))))
           translateY(calc(-1*var(--lift)*abs((var(--i)-(var(--count)-1)/2)/max(var(--count)-1,1))));
}
.hand .card:hover{transform:rotateZ(0deg) translateY(-60px) scale(1.1);
  z-index:999; box-shadow:0 14px 30px rgba(0,0,0,.55),0 0 0 3px rgba(103,232,249,.35);}
.controls{display:flex; justify-content:space-around; flex-wrap:wrap; margin-top:12px; gap:8px;}
button{background:#1e293b; color:#e2e8f0; border:none; border-radius:6px; padding:6px 10px; font-weight:600; cursor:pointer;}
button:hover{background:#334155;}
.badge{display:inline-flex; align-items:center; gap:6px; padding:6px 10px;
  border-radius:999px; background:#0f1b2d; border:1px solid #1f2c46;
  font-size:.85rem; color:#e6edf6; margin-left:8px;}
.mana-badge{border-color:var(--accent-gold);}
.turn-active{box-shadow:0 0 0 3px rgba(250,204,21,.35); border-radius:12px;}
#controls-p1, #controls-p2{transition:opacity 0.4s ease;}

/* ===============================
   üåÄ  ANIMATIONS & FEEDBACK
   =============================== */
.slot[data-highlight="ok"]{border-color:#67e8f9; box-shadow:0 0 0 2px rgba(103,232,249,.35); transform:translateY(-1px);}
.slot[data-highlight="bad"]{border-color:#ef4444; box-shadow:0 0 0 2px rgba(239,68,68,.35);}
.card.dragging{opacity:.6; box-shadow:0 10px 28px rgba(0,0,0,.6); transform:scale(1.02);}
.card.buff-perm{outline:2px solid #d4af37; outline-offset:-2px;}
.card.buff-temp{outline:2px solid #3ea0ff; outline-offset:-2px;}
.card.locked{cursor:not-allowed;}
